!function(e){function n(o){if(t[o])return t[o].exports;var a=t[o]={i:o,l:!1,exports:{}};return e[o].call(a.exports,a,a.exports,n),a.l=!0,a.exports}var t={};n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:o})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},n.p="",n(n.s=0)}([function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){for(var t in e)n.hasOwnProperty(t)||(n[t]=e[t])}(t(1))},function(e,n,t){"use strict";function o(e,n,t){window.close()}function a(e,n,t){var o=t.mapElementInvokeRequest.pageRequest.pageComponentInputResponses[0].contentValue;t.mapElementInvokeRequest.pageRequest.pageComponentInputResponses[0].pageComponentId,window.open(o,"_blank")}function r(e,n,t){window.print()}function u(e,n){if(manywho.OutcomeManager&&manywho.OutcomeManager.selectedOutcome&&manywho.OutcomeManager.selectedOutcome.attributes)for(var t in manywho.OutcomeManager.selectedOutcome.attributes)if(manywho.OutcomeManager.handlers[t]&&"true"===manywho.OutcomeManager.selectedOutcome.attributes[t]){manywho.OutcomeManager.handlers[t];manywho.OutcomeManager.handlers[t](manywho.OutcomeManager.selectedOutcome,e,manywho.OutcomeManager.originalRequest)}}function c(e,n){manywho.OutcomeManager.originalRequest=n,manywho.OutcomeManager.stateId=n.stateId;var t=n.mapElementInvokeRequest.selectedOutcomeId;if(manywho.OutcomeManager.tenantId&&manywho.OutcomeManager.stateId&&t){var o=manywho.OutcomeManager.tenantId+"___"+manywho.OutcomeManager.stateId;manywho.OutcomeManager.selectedOutcome=manywho.model.getOutcome(t,o)}}var m=this&&this.__extends||function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])};return function(n,t){function o(){this.constructor=n}e(n,t),n.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}();Object.defineProperty(n,"__esModule",{value:!0});var s=t(2),i=manywho.utils.parseQueryString(window.location.search.substring(1)),h=i["tenant-id"];h||(h=window.location.pathname.split("/").filter(function(e){return e&&e.length>0})[0]),manywho.OutcomeManager={},manywho.OutcomeManager.tenantId=h,manywho.OutcomeManager.originalRequest,manywho.OutcomeManager.handlers={},manywho.OutcomeManager.handlers.AutoClose=o,manywho.OutcomeManager.handlers.AutoOpen=a,manywho.OutcomeManager.handlers.ForcePrint=r;for(var l in manywho.OutcomeHandlers)manywho.OutcomeManager.handlers[l]=manywho.OutcomeHandlers[l];manywho.CustomComponentOrchestrator?(manywho.CustomComponentOrchestrator.onBeforeSendHandlers.push(c),manywho.CustomComponentOrchestrator.doneSendHandlers.push(u)):manywho.settings.initialize({},{invoke:{beforeSend:c,done:u}});var p=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return m(n,e),n}(s.Component);manywho.component.register("OutcomeManager",p),n.default=p},function(e,n){e.exports=React}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vT3V0Y29tZU1hbmFnZXIuanMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIDUzMTJkNjdkNjk1MjFmN2Y0ZDlhIiwid2VicGFjazovLy8uL3NyYy9pbmRleC50c3giLCJ3ZWJwYWNrOi8vLy4vc3JjL091dGNvbWVNYW5hZ2VyLnRzeCIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJSZWFjdFwiIl0sIm5hbWVzIjpbIm1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJpbnN0YWxsZWRNb2R1bGVzIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJjb25maWd1cmFibGUiLCJlbnVtZXJhYmxlIiwiZ2V0IiwibiIsIl9fZXNNb2R1bGUiLCJvYmplY3QiLCJwcm9wZXJ0eSIsInByb3RvdHlwZSIsImhhc093blByb3BlcnR5IiwicCIsInMiLCJ2YWx1ZSIsIk9NYXV0b0Nsb3NlIiwib3V0Y29tZSIsInhociIsInJlcXVlc3QiLCJ3aW5kb3ciLCJjbG9zZSIsIk9NYXV0b09wZW4iLCJ0YXJnZXRVcmkiLCJtYXBFbGVtZW50SW52b2tlUmVxdWVzdCIsInBhZ2VSZXF1ZXN0IiwicGFnZUNvbXBvbmVudElucHV0UmVzcG9uc2VzIiwiY29udGVudFZhbHVlIiwicGFnZUNvbXBvbmVudElkIiwib3BlbiIsIk9NZm9yY2VQcmludCIsInByaW50IiwiT01kb25lSGFuZGxlciIsIm1hbnl3aG8iLCJPdXRjb21lTWFuYWdlciIsInNlbGVjdGVkT3V0Y29tZSIsImF0dHJpYnV0ZXMiLCJrZXkiLCJoYW5kbGVycyIsIm9yaWdpbmFsUmVxdWVzdCIsIk9NYmVmb3JlU2VuZEhhbmRsZXIiLCJzdGF0ZUlkIiwib3V0Y29tZUlkIiwic2VsZWN0ZWRPdXRjb21lSWQiLCJ0ZW5hbnRJZCIsImZsb3dLZXkiLCJtb2RlbCIsImdldE91dGNvbWUiLCJfX2V4dGVuZHMiLCJ0aGlzIiwiZXh0ZW5kU3RhdGljcyIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiQXJyYXkiLCJiIiwiX18iLCJjb25zdHJ1Y3RvciIsImNyZWF0ZSIsIlJlYWN0IiwicXVlcnlQYXJhbWV0ZXJzIiwidXRpbHMiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwibG9jYXRpb24iLCJzZWFyY2giLCJzdWJzdHJpbmciLCJwYXRobmFtZSIsInNwbGl0IiwiZmlsdGVyIiwicGF0aCIsImxlbmd0aCIsIk91dGNvbWVIYW5kbGVycyIsIkN1c3RvbUNvbXBvbmVudE9yY2hlc3RyYXRvciIsIm9uQmVmb3JlU2VuZEhhbmRsZXJzIiwicHVzaCIsImRvbmVTZW5kSGFuZGxlcnMiLCJzZXR0aW5ncyIsImluaXRpYWxpemUiLCJpbnZva2UiLCJiZWZvcmVTZW5kIiwiZG9uZSIsIl9zdXBlciIsImFwcGx5IiwiYXJndW1lbnRzIiwiQ29tcG9uZW50IiwiY29tcG9uZW50IiwicmVnaXN0ZXIiLCJkZWZhdWx0Il0sIm1hcHBpbmdzIjoiQ0FBUyxTQUFVQSxHQ0luQixRQUFBQyxHQUFBQyxHQUdBLEdBQUFDLEVBQUFELEdBQ0EsTUFBQUMsR0FBQUQsR0FBQUUsT0FHQSxJQUFBQyxHQUFBRixFQUFBRCxJQUNBSSxFQUFBSixFQUNBSyxHQUFBLEVBQ0FILFdBVUEsT0FOQUosR0FBQUUsR0FBQU0sS0FBQUgsRUFBQUQsUUFBQUMsSUFBQUQsUUFBQUgsR0FHQUksRUFBQUUsR0FBQSxFQUdBRixFQUFBRCxRQXZCQSxHQUFBRCxLQTRCQUYsR0FBQVEsRUFBQVQsRUFHQUMsRUFBQVMsRUFBQVAsRUFHQUYsRUFBQVUsRUFBQSxTQUFBUCxFQUFBUSxFQUFBQyxHQUNBWixFQUFBYSxFQUFBVixFQUFBUSxJQUNBRyxPQUFBQyxlQUFBWixFQUFBUSxHQUNBSyxjQUFBLEVBQ0FDLFlBQUEsRUFDQUMsSUFBQU4sS0FNQVosRUFBQW1CLEVBQUEsU0FBQWYsR0FDQSxHQUFBUSxHQUFBUixLQUFB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QSxFQUFLQyxPQUFTLElBQzlCLElBS25CcEMsUUFBUUMsa0JBQ1JELFFBQVFDLGVBQWVVLFNBQVlBLEVBQ25DWCxRQUFRQyxlQUFlSyxnQkFDdkJOLFFBQVFDLGVBQWVJLFlBQ3ZCTCxRQUFRQyxlQUFlSSxTQUFvQixVQUFJdEIsRUFDL0NpQixRQUFRQyxlQUFlSSxTQUFtQixTQUFJaEIsRUFDOUNXLFFBQVFDLGVBQWVJLFNBQXFCLFdBQUlSLENBR2hELEtBQUksR0FBSU8sS0FBT0osU0FBUXFDLGdCQUVuQnJDLFFBQVFDLGVBQWVJLFNBQVNELEdBQU9KLFFBQVFxQyxnQkFBZ0JqQyxFQUtoRUosU0FBUXNDLDZCQUVQdEMsUUFBUXNDLDRCQUE0QkMscUJBQXFCQyxLQUFLakMsR0FDOURQLFFBQVFzQyw0QkFBNEJHLGlCQUFpQkQsS0FBS3pDLElBSTFEQyxRQUFRMEMsU0FBU0MsZUFLVEMsUUFFSUMsV0FBWXRDLEVBQ1p1QyxLQUFNL0MsSUE0RHRCLElBQUFFLEdBQUEsU0FBQThDLEdBQUEsUUFBQTlDLEtINERRLE1BQWtCLFFBQVg4QyxHQUFtQkEsRUFBT0MsTUFBTWhDLEtBQU1pQyxZQUFjakMsS0cxRG5FLE1BRjZCRCxHQUFBZCxFQUFBOEMsR0FFN0I5QyxHQUY2QndCLEVBQU15QixVQUluQ2xELFNBQVFtRCxVQUFVQyxTQUFTLGlCQUFrQm5ELEdBRTdDM0MsRUFBQStGLFFBQWVwRCxHSGdFVCxTQUFVMUMsRUFBUUQsR0lwTHhCQyxFQUFBRCxRQUFBbUUiLCJmaWxlIjoiT3V0Y29tZU1hbmFnZXIuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbi8qKioqKiovIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuLyoqKioqKi8gXHRcdH1cbi8qKioqKiovIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuLyoqKioqKi8gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbi8qKioqKiovIFx0XHRcdGk6IG1vZHVsZUlkLFxuLyoqKioqKi8gXHRcdFx0bDogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fVxuLyoqKioqKi8gXHRcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuLyoqKioqKi8gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4vKioqKioqLyBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuLyoqKioqKi8gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbi8qKioqKiovIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4vKioqKioqLyBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4vKioqKioqLyBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4vKioqKioqLyBcdFx0XHRcdGdldDogZ2V0dGVyXG4vKioqKioqLyBcdFx0XHR9KTtcbi8qKioqKiovIFx0XHR9XG4vKioqKioqLyBcdH07XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbi8qKioqKiovIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbi8qKioqKiovIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4vKioqKioqLyBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuLyoqKioqKi8gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbi8qKioqKiovIFx0XHRyZXR1cm4gZ2V0dGVyO1xuLyoqKioqKi8gXHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbi8qKioqKiovIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG4vKioqKioqLyB9KVxuLyoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbi8qKioqKiovIChbXG4vKiAwICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbmZ1bmN0aW9uIF9fZXhwb3J0KG0pIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbl9fZXhwb3J0KF9fd2VicGFja19yZXF1aXJlX18oMSkpO1xyXG5cblxuLyoqKi8gfSksXG4vKiAxICovXG4vKioqLyAoZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKSB7XG5cblwidXNlIHN0cmljdFwiO1xuXHJcbnZhciBfX2V4dGVuZHMgPSAodGhpcyAmJiB0aGlzLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7XHJcbiAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTtcclxuICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbiAgICB9O1xyXG59KSgpO1xyXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XHJcbnZhciBSZWFjdCA9IF9fd2VicGFja19yZXF1aXJlX18oMik7XHJcbnZhciBxdWVyeVBhcmFtZXRlcnMgPSBtYW55d2hvLnV0aWxzLnBhcnNlUXVlcnlTdHJpbmcod2luZG93LmxvY2F0aW9uLnNlYXJjaC5zdWJzdHJpbmcoMSkpO1xyXG52YXIgdGVuYW50SWQgPSBxdWVyeVBhcmFtZXRlcnNbJ3RlbmFudC1pZCddO1xyXG5pZiAoIXRlbmFudElkKSB7XHJcbiAgICB0ZW5hbnRJZCA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZVxyXG4gICAgICAgIC5zcGxpdCgnLycpXHJcbiAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocGF0aCkge1xyXG4gICAgICAgIHJldHVybiBwYXRoICYmIHBhdGgubGVuZ3RoID4gMDtcclxuICAgIH0pWzBdO1xyXG59XHJcbi8vZGVjbGFyZSBnbG9iYWwgeyBpbnRlcmZhY2UgV2luZG93IHtPdXRjb21lTWFuYWdlcjogYW55O319XHJcbm1hbnl3aG8uT3V0Y29tZU1hbmFnZXIgPSB7fTtcclxubWFueXdoby5PdXRjb21lTWFuYWdlci50ZW5hbnRJZCA9IHRlbmFudElkO1xyXG5tYW55d2hvLk91dGNvbWVNYW5hZ2VyLm9yaWdpbmFsUmVxdWVzdDtcclxubWFueXdoby5PdXRjb21lTWFuYWdlci5oYW5kbGVycyA9IHt9O1xyXG5tYW55d2hvLk91dGNvbWVNYW5hZ2VyLmhhbmRsZXJzW1wiQXV0b0Nsb3NlXCJdID0gT01hdXRvQ2xvc2U7XHJcbm1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuaGFuZGxlcnNbXCJBdXRvT3BlblwiXSA9IE9NYXV0b09wZW47XHJcbm1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuaGFuZGxlcnNbXCJGb3JjZVByaW50XCJdID0gT01mb3JjZVByaW50O1xyXG5mb3IgKHZhciBrZXkgaW4gbWFueXdoby5PdXRjb21lSGFuZGxlcnMpIHtcclxuICAgIG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuaGFuZGxlcnNba2V5XSA9IG1hbnl3aG8uT3V0Y29tZUhhbmRsZXJzW2tleV07XHJcbn1cclxuLy8gdGhpcyBhdHRhY2hlcyB0aGUgQWpheCBoYW5kbGVycyB0byB0aGUgbWFueXdoby5DdXN0b21Db21wb25lbnRPcmNoZXN0cmF0b3Igb3IgXHJcbi8vIGluaXRpYWxpemUgZnVuY3Rpb24gaWYgbWFueXdoby5DdXN0b21Db21wb25lbnRPcmNoZXN0cmF0b3IgaXNudCBkZWZpbmVkLiAgXHJcbmlmIChtYW55d2hvLkN1c3RvbUNvbXBvbmVudE9yY2hlc3RyYXRvcikge1xyXG4gICAgbWFueXdoby5DdXN0b21Db21wb25lbnRPcmNoZXN0cmF0b3Iub25CZWZvcmVTZW5kSGFuZGxlcnMucHVzaChPTWJlZm9yZVNlbmRIYW5kbGVyKTtcclxuICAgIG1hbnl3aG8uQ3VzdG9tQ29tcG9uZW50T3JjaGVzdHJhdG9yLmRvbmVTZW5kSGFuZGxlcnMucHVzaChPTWRvbmVIYW5kbGVyKTtcclxufVxyXG5lbHNlIHtcclxuICAgIG1hbnl3aG8uc2V0dGluZ3MuaW5pdGlhbGl6ZSh7fSwge1xyXG4gICAgICAgIGludm9rZToge1xyXG4gICAgICAgICAgICBiZWZvcmVTZW5kOiBPTWJlZm9yZVNlbmRIYW5kbGVyLFxyXG4gICAgICAgICAgICBkb25lOiBPTWRvbmVIYW5kbGVyXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gT01hdXRvQ2xvc2Uob3V0Y29tZSwgeGhyLCByZXF1ZXN0KSB7XHJcbiAgICB3aW5kb3cuY2xvc2UoKTtcclxuICAgIHJldHVybjtcclxufVxyXG5mdW5jdGlvbiBPTWF1dG9PcGVuKG91dGNvbWUsIHhociwgcmVxdWVzdCkge1xyXG4gICAgdmFyIHRhcmdldFVyaSA9IHJlcXVlc3QubWFwRWxlbWVudEludm9rZVJlcXVlc3QucGFnZVJlcXVlc3QucGFnZUNvbXBvbmVudElucHV0UmVzcG9uc2VzWzBdLmNvbnRlbnRWYWx1ZTtcclxuICAgIHZhciBjb21wb25lbnRJZCA9IHJlcXVlc3QubWFwRWxlbWVudEludm9rZVJlcXVlc3QucGFnZVJlcXVlc3QucGFnZUNvbXBvbmVudElucHV0UmVzcG9uc2VzWzBdLnBhZ2VDb21wb25lbnRJZDtcclxuICAgIHZhciB3bmQgPSB3aW5kb3cub3Blbih0YXJnZXRVcmksIFwiX2JsYW5rXCIpO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcbmZ1bmN0aW9uIE9NZm9yY2VQcmludChvdXRjb21lLCB4aHIsIHJlcXVlc3QpIHtcclxuICAgIHdpbmRvdy5wcmludCgpO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcbmZ1bmN0aW9uIE9NZG9uZUhhbmRsZXIoeGhyLCByZXF1ZXN0KSB7XHJcbiAgICAvL2NoZWNrIGNsb3NlIGZsYWcgYW5kIGlmIHNldCBqdXN0IGtpbGwgdGhlIHdpbmRvd1xyXG4gICAgaWYgKG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIgJiYgbWFueXdoby5PdXRjb21lTWFuYWdlci5zZWxlY3RlZE91dGNvbWUgJiYgbWFueXdoby5PdXRjb21lTWFuYWdlci5zZWxlY3RlZE91dGNvbWUuYXR0cmlidXRlcykge1xyXG4gICAgICAgIC8vbG9vcCBvdmVyIGVhY2ggb3V0Y29tZSBhbmQgY2FsbCBpdHMgYXNzb2NpYXRlZCBoYW5kbGVyIGluIHRoZSBwbGF5ZXIgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgLy9zb21lIGRlZmF1bHQgY29tbW9uIG9uZXMgd2lsbCBkZWZhdWx0IHRvIHRoZSBoYW5kbGVycyBpbiAgaGVyZSBpZiBub3QuXHJcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuc2VsZWN0ZWRPdXRjb21lLmF0dHJpYnV0ZXMpIHtcclxuICAgICAgICAgICAgaWYgKG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuaGFuZGxlcnNba2V5XSAmJiBtYW55d2hvLk91dGNvbWVNYW5hZ2VyLnNlbGVjdGVkT3V0Y29tZS5hdHRyaWJ1dGVzW2tleV0gPT09IFwidHJ1ZVwiKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgZnVuY3Rpb25OYW1lID0gbWFueXdoby5PdXRjb21lTWFuYWdlci5oYW5kbGVyc1trZXldO1xyXG4gICAgICAgICAgICAgICAgbWFueXdoby5PdXRjb21lTWFuYWdlci5oYW5kbGVyc1trZXldKG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuc2VsZWN0ZWRPdXRjb21lLCB4aHIsIG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIub3JpZ2luYWxSZXF1ZXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4vL3RoaXMgc2F2ZXMgdGhlIGxhc3Qgc2VsZWN0ZWQgb3V0Y29tZSBpbiB0aGUgT3V0Y29tZU1hbmFnZXIgICAgICAgICAgIFxyXG5mdW5jdGlvbiBPTWJlZm9yZVNlbmRIYW5kbGVyKHhociwgcmVxdWVzdCkge1xyXG4gICAgbWFueXdoby5PdXRjb21lTWFuYWdlci5vcmlnaW5hbFJlcXVlc3QgPSByZXF1ZXN0O1xyXG4gICAgbWFueXdoby5PdXRjb21lTWFuYWdlci5zdGF0ZUlkID0gcmVxdWVzdC5zdGF0ZUlkO1xyXG4gICAgdmFyIG91dGNvbWVJZCA9IHJlcXVlc3QubWFwRWxlbWVudEludm9rZVJlcXVlc3Quc2VsZWN0ZWRPdXRjb21lSWQ7XHJcbiAgICBpZiAobWFueXdoby5PdXRjb21lTWFuYWdlci50ZW5hbnRJZCAmJiBtYW55d2hvLk91dGNvbWVNYW5hZ2VyLnN0YXRlSWQgJiYgb3V0Y29tZUlkKSB7XHJcbiAgICAgICAgdmFyIGZsb3dLZXkgPSBtYW55d2hvLk91dGNvbWVNYW5hZ2VyLnRlbmFudElkICsgXCJfX19cIiArIG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuc3RhdGVJZDtcclxuICAgICAgICBtYW55d2hvLk91dGNvbWVNYW5hZ2VyLnNlbGVjdGVkT3V0Y29tZSA9IG1hbnl3aG8ubW9kZWwuZ2V0T3V0Y29tZShvdXRjb21lSWQsIGZsb3dLZXkpO1xyXG4gICAgfVxyXG59XHJcbnZhciBPdXRjb21lTWFuYWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHtcclxuICAgIF9fZXh0ZW5kcyhPdXRjb21lTWFuYWdlciwgX3N1cGVyKTtcclxuICAgIGZ1bmN0aW9uIE91dGNvbWVNYW5hZ2VyKCkge1xyXG4gICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpcztcclxuICAgIH1cclxuICAgIHJldHVybiBPdXRjb21lTWFuYWdlcjtcclxufShSZWFjdC5Db21wb25lbnQpKTtcclxubWFueXdoby5jb21wb25lbnQucmVnaXN0ZXIoJ091dGNvbWVNYW5hZ2VyJywgT3V0Y29tZU1hbmFnZXIpO1xyXG5leHBvcnRzLmRlZmF1bHQgPSBPdXRjb21lTWFuYWdlcjtcclxuXG5cbi8qKiovIH0pLFxuLyogMiAqL1xuLyoqKi8gKGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cykge1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlYWN0O1xuXG4vKioqLyB9KVxuLyoqKioqKi8gXSk7XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIE91dGNvbWVNYW5hZ2VyLmpzIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gMCk7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgNTMxMmQ2N2Q2OTUyMWY3ZjRkOWEiLCJleHBvcnQgKiBmcm9tICcuL091dGNvbWVNYW5hZ2VyJztcblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2luZGV4LnRzeCIsImRlY2xhcmUgdmFyIG1hbnl3aG86IGFueTtcclxuXHJcbmltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcclxuXHJcblxyXG52YXIgcXVlcnlQYXJhbWV0ZXJzID0gbWFueXdoby51dGlscy5wYXJzZVF1ZXJ5U3RyaW5nKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2guc3Vic3RyaW5nKDEpKTtcclxudmFyIHRlbmFudElkID0gcXVlcnlQYXJhbWV0ZXJzWyd0ZW5hbnQtaWQnXTtcclxuaWYgKCF0ZW5hbnRJZCkgXHJcbntcclxuICAgIHRlbmFudElkID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lXHJcbiAgICAgICAgICAgICAgICAuc3BsaXQoJy8nKVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocGF0aCkgXHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdGggJiYgcGF0aC5sZW5ndGggPiAwO1xyXG4gICAgICAgICAgICAgICAgfSlbMF07XHJcbn1cclxuICAgIFxyXG5cclxuLy9kZWNsYXJlIGdsb2JhbCB7IGludGVyZmFjZSBXaW5kb3cge091dGNvbWVNYW5hZ2VyOiBhbnk7fX1cclxubWFueXdoby5PdXRjb21lTWFuYWdlciA9IHt9O1xyXG5tYW55d2hvLk91dGNvbWVNYW5hZ2VyLnRlbmFudElkICA9IHRlbmFudElkO1xyXG5tYW55d2hvLk91dGNvbWVNYW5hZ2VyLm9yaWdpbmFsUmVxdWVzdDtcclxubWFueXdoby5PdXRjb21lTWFuYWdlci5oYW5kbGVycyA9IHt9O1xyXG5tYW55d2hvLk91dGNvbWVNYW5hZ2VyLmhhbmRsZXJzW1wiQXV0b0Nsb3NlXCJdID0gT01hdXRvQ2xvc2U7XHJcbm1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuaGFuZGxlcnNbXCJBdXRvT3BlblwiXSA9IE9NYXV0b09wZW47XHJcbm1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuaGFuZGxlcnNbXCJGb3JjZVByaW50XCJdID0gT01mb3JjZVByaW50O1xyXG5cclxuXHJcbmZvcih2YXIga2V5IGluIG1hbnl3aG8uT3V0Y29tZUhhbmRsZXJzKVxyXG57XHJcbiAgICBtYW55d2hvLk91dGNvbWVNYW5hZ2VyLmhhbmRsZXJzW2tleV0gPSBtYW55d2hvLk91dGNvbWVIYW5kbGVyc1trZXldO1xyXG59XHJcbiAgICBcclxuLy8gdGhpcyBhdHRhY2hlcyB0aGUgQWpheCBoYW5kbGVycyB0byB0aGUgbWFueXdoby5DdXN0b21Db21wb25lbnRPcmNoZXN0cmF0b3Igb3IgXHJcbi8vIGluaXRpYWxpemUgZnVuY3Rpb24gaWYgbWFueXdoby5DdXN0b21Db21wb25lbnRPcmNoZXN0cmF0b3IgaXNudCBkZWZpbmVkLiAgXHJcbmlmKG1hbnl3aG8uQ3VzdG9tQ29tcG9uZW50T3JjaGVzdHJhdG9yKVxyXG57XHJcbiAgICBtYW55d2hvLkN1c3RvbUNvbXBvbmVudE9yY2hlc3RyYXRvci5vbkJlZm9yZVNlbmRIYW5kbGVycy5wdXNoKE9NYmVmb3JlU2VuZEhhbmRsZXIpO1xyXG4gICAgbWFueXdoby5DdXN0b21Db21wb25lbnRPcmNoZXN0cmF0b3IuZG9uZVNlbmRIYW5kbGVycy5wdXNoKE9NZG9uZUhhbmRsZXIpO1xyXG59XHJcbmVsc2Vcclxue1xyXG4gICAgbWFueXdoby5zZXR0aW5ncy5pbml0aWFsaXplKFxyXG4gICAgICAgIHtcclxuICAgICAgICB9XHJcbiAgICAgICAgLFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaW52b2tlOiBcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYmVmb3JlU2VuZDogT01iZWZvcmVTZW5kSGFuZGxlcixcclxuICAgICAgICAgICAgICAgIGRvbmU6IE9NZG9uZUhhbmRsZXIgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICApO1xyXG59XHJcblxyXG5cclxuZnVuY3Rpb24gT01hdXRvQ2xvc2Uob3V0Y29tZSA6IGFueSwgeGhyIDogYW55LCByZXF1ZXN0OiBhbnkpXHJcbntcclxuICAgIHdpbmRvdy5jbG9zZSgpO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcblxyXG5mdW5jdGlvbiBPTWF1dG9PcGVuKG91dGNvbWUgOiBhbnksIHhociA6IGFueSwgcmVxdWVzdDogYW55KVxyXG57XHJcbiAgICB2YXIgdGFyZ2V0VXJpID0gcmVxdWVzdC5tYXBFbGVtZW50SW52b2tlUmVxdWVzdC5wYWdlUmVxdWVzdC5wYWdlQ29tcG9uZW50SW5wdXRSZXNwb25zZXNbMF0uY29udGVudFZhbHVlO1xyXG4gICAgdmFyIGNvbXBvbmVudElkID0gcmVxdWVzdC5tYXBFbGVtZW50SW52b2tlUmVxdWVzdC5wYWdlUmVxdWVzdC5wYWdlQ29tcG9uZW50SW5wdXRSZXNwb25zZXNbMF0ucGFnZUNvbXBvbmVudElkO1xyXG5cclxuICAgIHZhciB3bmQgPSB3aW5kb3cub3Blbih0YXJnZXRVcmksIFwiX2JsYW5rXCIpO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcblxyXG5mdW5jdGlvbiBPTWZvcmNlUHJpbnQob3V0Y29tZSA6IGFueSwgeGhyIDogYW55LCByZXF1ZXN0OiBhbnkpXHJcbntcclxuICAgIHdpbmRvdy5wcmludCgpO1xyXG4gICAgcmV0dXJuO1xyXG59XHJcbiAgICBcclxuZnVuY3Rpb24gT01kb25lSGFuZGxlcih4aHI6IGFueSAsIHJlcXVlc3Q6IGFueSlcclxue1xyXG4gICAgLy9jaGVjayBjbG9zZSBmbGFnIGFuZCBpZiBzZXQganVzdCBraWxsIHRoZSB3aW5kb3dcclxuICAgIGlmKCBtYW55d2hvLk91dGNvbWVNYW5hZ2VyICYmIG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuc2VsZWN0ZWRPdXRjb21lICYmIG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuc2VsZWN0ZWRPdXRjb21lLmF0dHJpYnV0ZXMgKVxyXG4gICAge1xyXG4gICAgICAgIC8vbG9vcCBvdmVyIGVhY2ggb3V0Y29tZSBhbmQgY2FsbCBpdHMgYXNzb2NpYXRlZCBoYW5kbGVyIGluIHRoZSBwbGF5ZXIgaWYgaXQgZXhpc3RzXHJcbiAgICAgICAgLy9zb21lIGRlZmF1bHQgY29tbW9uIG9uZXMgd2lsbCBkZWZhdWx0IHRvIHRoZSBoYW5kbGVycyBpbiAgaGVyZSBpZiBub3QuXHJcbiAgICAgICAgZm9yKCB2YXIga2V5IGluIG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuc2VsZWN0ZWRPdXRjb21lLmF0dHJpYnV0ZXMgKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYobWFueXdoby5PdXRjb21lTWFuYWdlci5oYW5kbGVyc1trZXldICYmIG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuc2VsZWN0ZWRPdXRjb21lLmF0dHJpYnV0ZXNba2V5XSA9PT0gXCJ0cnVlXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHZhciBmdW5jdGlvbk5hbWUgPSBtYW55d2hvLk91dGNvbWVNYW5hZ2VyLmhhbmRsZXJzW2tleV07XHJcbiAgICAgICAgICAgICAgICBtYW55d2hvLk91dGNvbWVNYW5hZ2VyLmhhbmRsZXJzW2tleV0obWFueXdoby5PdXRjb21lTWFuYWdlci5zZWxlY3RlZE91dGNvbWUsIHhociwgbWFueXdoby5PdXRjb21lTWFuYWdlci5vcmlnaW5hbFJlcXVlc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuLy90aGlzIHNhdmVzIHRoZSBsYXN0IHNlbGVjdGVkIG91dGNvbWUgaW4gdGhlIE91dGNvbWVNYW5hZ2VyICAgICAgICAgICBcclxuZnVuY3Rpb24gT01iZWZvcmVTZW5kSGFuZGxlcih4aHI6IGFueSwgcmVxdWVzdDogYW55IClcclxue1xyXG4gICAgbWFueXdoby5PdXRjb21lTWFuYWdlci5vcmlnaW5hbFJlcXVlc3QgID0gcmVxdWVzdDtcclxuICAgIG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuc3RhdGVJZCA9IHJlcXVlc3Quc3RhdGVJZDtcclxuICAgIHZhciBvdXRjb21lSWQgPSByZXF1ZXN0Lm1hcEVsZW1lbnRJbnZva2VSZXF1ZXN0LnNlbGVjdGVkT3V0Y29tZUlkO1xyXG4gICAgaWYobWFueXdoby5PdXRjb21lTWFuYWdlci50ZW5hbnRJZCAmJiBtYW55d2hvLk91dGNvbWVNYW5hZ2VyLnN0YXRlSWQgJiYgb3V0Y29tZUlkIClcclxuICAgIHtcclxuICAgICAgICB2YXIgZmxvd0tleSA9IG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIudGVuYW50SWQgKyBcIl9fX1wiICsgbWFueXdoby5PdXRjb21lTWFuYWdlci5zdGF0ZUlkO1xyXG4gICAgICAgIG1hbnl3aG8uT3V0Y29tZU1hbmFnZXIuc2VsZWN0ZWRPdXRjb21lID0gbWFueXdoby5tb2RlbC5nZXRPdXRjb21lKCBvdXRjb21lSWQgICwgIGZsb3dLZXkgKTtcclxuICAgIH1cclxufVxyXG5cclxuY2xhc3MgT3V0Y29tZU1hbmFnZXIgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8YW55LCBhbnk+IFxyXG57XHJcbn1cclxuXHJcbm1hbnl3aG8uY29tcG9uZW50LnJlZ2lzdGVyKCdPdXRjb21lTWFuYWdlcicsIE91dGNvbWVNYW5hZ2VyKTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IE91dGNvbWVNYW5hZ2VyO1xyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL091dGNvbWVNYW5hZ2VyLnRzeCIsIm1vZHVsZS5leHBvcnRzID0gUmVhY3Q7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gZXh0ZXJuYWwgXCJSZWFjdFwiXG4vLyBtb2R1bGUgaWQgPSAyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=